R SDK for Arvados

Examples of usage:

--------------------------------------------------------------------------------------------------------------------------------

#Initialize API:

arv <- Arvados$new("insert_token", "insert_host_name")

--------------------------------------------------------------------------------------------------------------------------------

#Get collection:

arv$getCollection("uuid")

--------------------------------------------------------------------------------------------------------------------------------

#List collections:

collectionList <- arv$listCollections(list("uuid", "=" "aaaaa-bbbbb-ccccccccccccccc"), limit = 10, offset = 2)

--------------------------------------------------------------------------------------------------------------------------------

#Delete collection:

deletedCollection <- arv$deleteCollection("uuid")

--------------------------------------------------------------------------------------------------------------------------------

#Update collection:

updatedCollection <- arv$updateCollection("uuid", list((name = "new_name", description = "new_desciption")))

--------------------------------------------------------------------------------------------------------------------------------

#Create collection:

cratedCollection <- arv$createCollection(list(list(name = "new_name", description = "new_desciption")))

--------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------------------------

#Collection content manipulation:

--------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------------------------

#Create collection object:

arv <- Arvados$new("insert_token", "insert_host_name")
collection <- Collection$new(arv, "uuid")

--------------------------------------------------------------------------------------------------------------------------------

#Get file/folder content as character vector

collection$getFileContent()

--------------------------------------------------------------------------------------------------------------------------------

#This will return ArvadosFile or Subcollection from internal tree-like structure.

arvadosFile <- collection$get("location/to/my/file.cpp")

#or

arvadosSubcollection <- collection$get("location/to/my/directory/")

--------------------------------------------------------------------------------------------------------------------------------

#Read whole file or just a portion of it.

fileContent <- arvadosFile$read()
fileContent <- arvadosFile$read("text")
fileContent <- arvadosFile$read("raw", offset = 1024, length = 512)

--------------------------------------------------------------------------------------------------------------------------------

#Get ArvadosFile or Subcollection size 

size <- arvadosFile$getSizeInBytes()
size <- arvadosSubcollection$getSizeInBytes()

--------------------------------------------------------------------------------------------------------------------------------

#Create new file in a collection

#Call structure

collection$add(arvadosFileOrSubcollectionOrFileName, optionalRelativePath)

#Example

collection$add("main.cpp", "cpp/src/")

#or

folder <- Subcollection$new("src")
file <- ArvadosFile$new("main.cpp")
folder$add(file)

collection$add(folder, "cpp")

#Both examples will add file "main.cpp" in "./cpp/src/" folder if folder exists.
#If subcollection contains more files or folders they will be added recursively.

#You can also add multiple files

collection$add(c("path/to/my/file.cpp", "path/to/other/file.cpp"))

--------------------------------------------------------------------------------------------------------------------------------

#Write to existing file (Override current content of the file)

arvadosFile <- collection$get("location/to/my/file.cpp")

arvadosFile$write("This is new file content")

--------------------------------------------------------------------------------------------------------------------------------

#Delete file from a collection

file <- collection$get("location/to/my/file.cpp")

file$removeFromCollection()

#Or

collection$remove(file)

#Both examples will remove file "file.cpp" from a collection
#If subcollection contains more files or folders they will be removed recursively.

#You can also remove multiple files

collection$remove(c("path/to/my/file.cpp", "path/to/other/file.cpp"))

--------------------------------------------------------------------------------------------------------------------------------

#Move file or folder inside collection

file <- collection$get("location/to/my/file.cpp")

file$move("destination/file.cpp")

#Or subcollections

subcollection <- collection$get("location/to/folder")

file$move("destination/folder")

#Make sure to include folder name in destination
#For example
#file$move("destination/") will not work

--------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------------------------

# Working with projects:

#Get project:

arv$getProject("uuid")

--------------------------------------------------------------------------------------------------------------------------------

#List projects:

projects <- arv$listProjects(list("uuid", "=" "aaaaa-bbbbb-ccccccccccccccc"), limit = 10, offset = 2)

--------------------------------------------------------------------------------------------------------------------------------

#Delete project:

deletedProject <- arv$deleteProject("uuid")

--------------------------------------------------------------------------------------------------------------------------------

#Update project:

updatedProject <- arv$updateProject("uuid", list((name = "new_name", description = "new_desciption")))

--------------------------------------------------------------------------------------------------------------------------------

#Create project:

cratedProject <- arv$createProject(list(list(name = "project_name", description = "project_desciption")))

--------------------------------------------------------------------------------------------------------------------------------
