queued:
  uuid: zzzzz-xvhdp-cr4queuedcontnr
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: queued
  state: Committed
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-queuedcontainer
  runtime_constraints:
    vcpus: 1
    ram: 123
  mounts:
    test:
      kind: json
  environment:
    var: queued

queued_higher_priority:
  uuid: zzzzz-xvhdp-cr4queuedcontnrhigher
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: queued_hp
  state: Committed
  priority: 2
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-queuedcontainerhigher
  runtime_constraints:
    vcpus: 1
    ram: 123
  mounts:
    test:
      kind: json
  environment:
    var: queued

locked_vs_queued_loser:
  uuid: zzzzz-xvhdp-cr4lockedvsqueuedloser
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: lockedvqueuedloser
  state: Committed
  priority: 2
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-lvqloser
  runtime_constraints:
    vcpus: 1
    ram: 123
  mounts:
    test:
      kind: json
  environment:
    var: locked_vs_queued

running:
  uuid: zzzzz-xvhdp-cr4runningcntnr
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: running
  state: Committed
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-runningcontainr
  runtime_constraints:
    vcpus: 1
    ram: 123

running-older:
  uuid: zzzzz-xvhdp-cr4runningcntn2
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: running
  state: Committed
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-12 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-runningcontain2
  runtime_constraints:
    vcpus: 1
    ram: 123

completed:
  uuid: zzzzz-xvhdp-cr4completedctr
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: completed container request
  state: Final
  priority: 1
  created_at: <%= 2.minute.ago.to_s(:db) %>
  updated_at: <%= 1.minute.ago.to_s(:db) %>
  modified_at: <%= 1.minute.ago.to_s(:db) %>
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-compltcontainer
  runtime_constraints:
    vcpus: 1
    ram: 123

completed-older:
  uuid: zzzzz-xvhdp-cr4completedcr2
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: completed
  state: Final
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-compltcontainr2
  runtime_constraints:
    vcpus: 1
    ram: 123

cr_for_requester:
  uuid: zzzzz-xvhdp-cr4requestercnt
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: requester_cr
  state: Final
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-requestercntnr1
  requesting_container_uuid: zzzzz-dz642-requestingcntnr
  runtime_constraints:
    vcpus: 1
    ram: 123

cr_for_requester2:
  uuid: zzzzz-xvhdp-cr4requestercn2
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: requester_cr2
  state: Final
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  requesting_container_uuid: zzzzz-dz642-requestercntnr1
  runtime_constraints:
    vcpus: 1
    ram: 123

running_anonymous_accessible:
  uuid: zzzzz-xvhdp-runninganonaccs
  owner_uuid: zzzzz-j7d0g-zhxawtyetzwc5f0
  name: running anonymously accessible cr
  state: Committed
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-runningcontain2
  runtime_constraints:
    vcpus: 1
    ram: 123

cr_for_failed:
  uuid: zzzzz-xvhdp-cr4failedcontnr
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: cr for container exit code not 0
  state: Committed
  priority: 1
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  container_image: test
  cwd: test
  output_path: test
  command: ["echo", "hello"]
  container_uuid: zzzzz-dz642-failedcntnr
  runtime_constraints:
    vcpus: 1
    ram: 123

uncommitted:
  uuid: zzzzz-xvhdp-cr4uncommittedc
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: uncommitted
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  command: ["arvados-cwl-runner", "--local", "--api=containers",
            "/var/lib/cwl/workflow.json", "/var/lib/cwl/cwl.input.json"]
  output_path: "/var/spool/cwl"
  cwd: "/var/spool/cwl"
  priority: 1
  state: "Uncommitted"
  container_image: arvados/jobs
  mounts: {
        "/var/lib/cwl/workflow.json": {
            "kind": "json",
            "content": {
                "cwlVersion": "v1.0",
                "class": "CommandLineTool",
                "baseCommand": ["echo"],
                "inputs": [
                    {
                        "doc": "a longer documentation string for this parameter (optional)",
                        "type": "boolean",
                        "id": "ex_boolean",
                        "label": "a short label for this parameter (optional)",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "boolean"],
                        "id": "ex_boolean_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "doc": "directory selection should present the workbench collection picker",
                        "type": "Directory",
                        "id": "ex_dir",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "double",
                        "id": "ex_double",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "doc": "file selection should present the workbench file picker",
                        "type": "File",
                        "id": "ex_file",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "float",
                        "id": "ex_float",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "int",
                        "id": "ex_int",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "int"],
                        "id": "ex_int_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "long",
                        "id": "ex_long",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "string",
                        "id": "ex_string",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "string"],
                        "id": "ex_string_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": {
                            "type": "enum",
                            "symbols": ["a", "b", "c"]
                        },
                        "id": "ex_enum",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", {
                            "type": "enum",
                            "symbols": ["a", "b", "c"]
                        }],
                        "id": "ex_enum_opt",
                        "inputBinding": {"position": 1}
                    }
                ],
                "outputs": []
            }
        },
        "/var/lib/cwl/cwl.input.json": {
            "kind": "json",
            "content": {}
        },
        "stdout": {
            "kind": "file",
            "path": "/var/spool/cwl/cwl.output.json"
        },
        "/var/spool/cwl": {
            "kind": "collection",
            "writable": true
        }
    }
  runtime_constraints:
    vcpus: 1
    ram: 256000000
    API: true

uncommitted_ready_to_run:
  uuid: zzzzz-xvhdp-cr4uncommittedd
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: uncommitted_ready_to_run
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  command: ["arvados-cwl-runner", "--local", "--api=containers",
            "/var/lib/cwl/workflow.json", "/var/lib/cwl/cwl.input.json"]
  output_path: "/var/spool/cwl"
  cwd: "/var/spool/cwl"
  priority: 1
  state: "Uncommitted"
  container_image: arvados/jobs
  mounts: {
        "/var/lib/cwl/workflow.json": {
            "kind": "json",
            "content": {
                "cwlVersion": "v1.0",
                "class": "CommandLineTool",
                "baseCommand": ["echo"],
                "inputs": [
                    {
                        "doc": "a longer documentation string for this parameter (optional)",
                        "type": "boolean",
                        "id": "ex_boolean",
                        "label": "a short label for this parameter (optional)",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "boolean"],
                        "id": "ex_boolean_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "doc": "directory selection should present the workbench collection picker",
                        "type": "Directory",
                        "id": "ex_dir",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "double",
                        "id": "ex_double",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "doc": "file selection should present the workbench file picker",
                        "type": "File",
                        "id": "ex_file",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "float",
                        "id": "ex_float",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "int",
                        "id": "ex_int",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "int"],
                        "id": "ex_int_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "long",
                        "id": "ex_long",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": "string",
                        "id": "ex_string",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "string"],
                        "id": "ex_string_opt",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": {
                            "type": "enum",
                            "symbols": ["a", "b", "c"]
                        },
                        "id": "ex_enum",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", {
                            "type": "enum",
                            "symbols": ["a", "b", "c"]
                        }],
                        "id": "ex_enum_opt",
                        "inputBinding": {"position": 1}
                    }
                ],
                "outputs": []
            }
        },
        "/var/lib/cwl/cwl.input.json": {
            "kind": "json",
            "content": {
              "ex_string_opt": null,
              "ex_int_opt": null,
              "ex_boolean": false,
              "ex_boolean_opt": true,
              "ex_dir": {
                "class": "Directory",
                "location": "keep:1f4b0bc7583c2a7f9102c395f4ffc5e3+45",
                "arv:collection": "zzzzz-4zz18-znfnqtbbv4spc3w"
              },
              "ex_double": 66.0,
              "ex_file": {
                "class": "File",
                "location": "keep:1f4b0bc7583c2a7f9102c395f4ffc5e3+45/foo",
                "arv:collection": "zzzzz-4zz18-znfnqtbbv4spc3w/foo"
              },
              "ex_float": 55.0,
              "ex_int": 55,
              "ex_long": 22,
              "ex_string": "qq",
              "ex_enum": "a"
            }
        },
        "stdout": {
            "kind": "file",
            "path": "/var/spool/cwl/cwl.output.json"
        },
        "/var/spool/cwl": {
            "kind": "collection",
            "writable": true
        }
    }
  runtime_constraints:
    vcpus: 1
    ram: 256000000
    API: true

uncommitted-with-directory-input:
  uuid: zzzzz-xvhdp-cr4uncommitted2
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: uncommitted with directory input
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  command: ["arvados-cwl-runner", "--local", "--api=containers",
            "/var/lib/cwl/workflow.json", "/var/lib/cwl/cwl.input.json"]
  output_path: "/var/spool/cwl"
  cwd: "/var/spool/cwl"
  priority: 1
  state: Uncommitted
  container_image: fa3c1a9cb6783f85f2ecda037e07b8c3+167
  mounts: {
        "/var/lib/cwl/workflow.json": {
            "kind": "json",
            "content": {
                "cwlVersion": "v1.0",
                "class": "CommandLineTool",
                "baseCommand": ["echo"],
                "inputs": [
                    {
                        "type": "Directory",
                        "id": "directory_type",
                        "inputBinding": {"position": 1}
                    }
                ],
                "outputs": []
            }
        },
        "/var/lib/cwl/cwl.input.json": {
            "kind": "json",
            "content": {}
        },
        "stdout": {
            "kind": "file",
            "path": "/var/spool/cwl/cwl.output.json"
        },
        "/var/spool/cwl": {
            "kind": "collection",
            "writable": true
        }
    }
  runtime_constraints:
    vcpus: 1
    ram: 256000000
    API: true

uncommitted-with-file-input:
  uuid: zzzzz-xvhdp-cr4uncommittedf
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: uncommitted with directory input
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  command: ["arvados-cwl-runner", "--local", "--api=containers",
            "/var/lib/cwl/workflow.json", "/var/lib/cwl/cwl.input.json"]
  output_path: "/var/spool/cwl"
  cwd: "/var/spool/cwl"
  priority: 1
  state: Uncommitted
  container_image: fa3c1a9cb6783f85f2ecda037e07b8c3+167
  mounts: {
        "/var/lib/cwl/workflow.json": {
            "kind": "json",
            "content": {
                "cwlVersion": "v1.0",
                "class": "CommandLineTool",
                "baseCommand": ["echo"],
                "inputs": [
                    {
                        "type": "File",
                        "id": "file_type",
                        "inputBinding": {"position": 1}
                    }
                ],
                "outputs": []
            }
        },
        "/var/lib/cwl/cwl.input.json": {
            "kind": "json",
            "content": {}
        },
        "stdout": {
            "kind": "file",
            "path": "/var/spool/cwl/cwl.output.json"
        },
        "/var/spool/cwl": {
            "kind": "collection",
            "writable": true
        }
    }
  runtime_constraints:
    vcpus: 1
    ram: 256000000
    API: true

uncommitted-with-required-and-optional-inputs:
  uuid: zzzzz-xvhdp-cr4uncommitted3
  owner_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  name: uncommitted with required and optional inputs
  created_at: 2016-01-11 11:11:11.111111111 Z
  updated_at: 2016-01-11 11:11:11.111111111 Z
  modified_at: 2016-01-11 11:11:11.111111111 Z
  modified_by_user_uuid: zzzzz-tpzed-xurymjxw79nv3jz
  command: ["arvados-cwl-runner", "--local", "--api=containers",
            "/var/lib/cwl/workflow.json", "/var/lib/cwl/cwl.input.json"]
  output_path: "/var/spool/cwl"
  cwd: "/var/spool/cwl"
  priority: 1
  state: Uncommitted
  container_image: fa3c1a9cb6783f85f2ecda037e07b8c3+167
  mounts: {
        "/var/lib/cwl/workflow.json": {
            "kind": "json",
            "content": {
                "cwlVersion": "v1.0",
                "class": "CommandLineTool",
                "baseCommand": ["echo"],
                "inputs": [
                    {
                        "type": "int",
                        "id": "int_required",
                        "inputBinding": {"position": 1}
                    },
                    {
                        "type": ["null", "int"],
                        "id": "int_optional",
                        "inputBinding": {"position": 1}
                    }
                ],
                "outputs": []
            }
        },
        "/var/lib/cwl/cwl.input.json": {
            "kind": "json",
            "content": {}
        },
        "stdout": {
            "kind": "file",
            "path": "/var/spool/cwl/cwl.output.json"
        },
        "/var/spool/cwl": {
            "kind": "collection",
            "writable": true
        }
    }
  runtime_constraints:
    vcpus: 1
    ram: 256000000
    API: true

# Test Helper trims the rest of the file

# Do not add your fixtures below this line as the rest of this file will be trimmed by test_helper

# container requests in project_with_2_pipelines_and_60_crs
<% for i in 1..60 do %>
cr_<%=i%>_of_60:
  uuid: zzzzz-xvhdp-oneof60crs<%= i.to_s.rjust(5, '0') %>
  created_at: <%= ((i+5)/5).hour.ago.to_s(:db) %>
  owner_uuid: zzzzz-j7d0g-nnncrspipelines
  name: cr-<%= i.to_s %>
  output_path: test
  command: ["echo", "hello"]
<% end %>

# Do not add your fixtures below this line as the rest of this file will be trimmed by test_helper
